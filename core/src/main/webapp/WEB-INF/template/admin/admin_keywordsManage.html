<script type="text/javascript" src="js/jquery.min.js"></script>
   <script type="text/javascript">
    $(document).ready(function(){
    $("button[lable='修改']").click(function(){
      var $self = $(this);
      var $parent = $self.parent();
      $parent = $parent.parent();
      var keyname =$('td input',$parent).val();
      var keyid = $(this).attr("name");
      console.log(keyname+"Gogo"+keyid);
      var obj = {"searchKey.keyid":keyid,"searchKey.keyname":keyname};
      var url = "searchkey/updateById/"+keyid;
      $.showView(obj,url); 
  });
    $("button[lable='删除']").click(function(){
      var $self = $(this);
      var $parent = $self.parent();
      $parent = $parent.parent();
      var keyid = $(this).attr("name");
      console.log(keyid);
      var obj = {"searchKey.keyid":keyid};
      var url = "searchkey/delete/"+keyid;
      $.showView(obj,url); 
  });
    $("button[lable='新增']").click(function(){
    	var keyname = $('#keyname1').val();
        console.log(keyname);
        var obj = {"searchKey.keyname":keyname};
        var url = "searchkey/save";
        $.showView(obj,url); 
    });
});       
      $.extend({
       	showView:function(obj,url){
    	$.ajax({   
                type:"post",    
                dataType:"html",
                url:url, 
                data:obj,
                success:function(data){
                	$('#content').html(data);
                },   
                error:function(){ 
                    alert("error");
                }   
            });
    	}
   });  	
</script>
<style type="text/css">
.close2 {
/* still bad on picking color */
background: orange;
color: red;
/* make a round button */
border-radius: 12px;
/* center text */
line-height: 20px;
text-align: center;
height: 20px;
width: 20px;
font-size: 18px;
padding: 1px;
}
/* use cross as close button */
.close::before {
content: "\2716";}
</style>
<div class="row-fluid">
		<div class="block">
			<div class="navbar navbar-inner block-header">
				<div class="muted pull-left">关键字管理</div>
			</div>
			<div class="block-content collapse in">
				<div class="span12">
					<div class="table-toolbar">
						<div class="btn-group">
						 <% if (searchKeyList.~size < 6) {%>
						 	<h5 style="color:#F00">${searchKeyMsg!}</h5>
        					<input id="keyname1" name="searchkey.keyname" type="text" value="${searchkey.keyname!}" />
       					 	<button class="btn btn-success" lable="新增">
									新增 <i class="icon-plus icon-white"></i>
						    </button>
       					 <%}%>
						</div>
					</div>
					<div>
					<h4>
           			 <% for(s in searchKeyList!){%>
           			 <div class="span3" style="width:10%">
							${s.keyname!}<button name="${s.keyid}" class="close" data-dismiss="alert" lable="删除"></button> 
							
					</div>
       				<%}%>
       				</h4>
       				</div>
					<table cellpadding="0" cellspacing="0" border="0"
						class="table table-striped table-bordered" id="example2">
						<thead>
							<tr>
								<th>关键字</th>
								<th>操作</th>
							</tr>
					</thead>
					<tbody>
					 <% for(s in searchKeyList!){%>
							<tr class="odd gradeX">
								<td> <input id="keyname" name="searchkey.keyname" type="text" value="${s.keyname!}" /></td>
								<td>
									<button name="${s.keyid}" class="btn btn-warning btn-mini" lable="修改">修改</button>
								</td>
							</tr>
					<%}%>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>